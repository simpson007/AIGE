# ç”¨æˆ·ç®¡ç†è„šæœ¬

## æ·»åŠ æ–°ç”¨æˆ· (add_user.go)

è¿™ä¸ªè„šæœ¬ç”¨äºå¿«é€Ÿå‘ AIGE ç³»ç»Ÿæ·»åŠ æ–°ç”¨æˆ·ã€‚

### ä½¿ç”¨æ–¹æ³•

```bash
cd backend/scripts
go run add_user.go -username=ç”¨æˆ·å -password=å¯†ç  [é€‰é¡¹]
```

### å‚æ•°è¯´æ˜

| å‚æ•° | å¿…å¡« | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|------|--------|
| `-username` | âœ… | ç”¨æˆ·å | æ—  |
| `-password` | âœ… | å¯†ç  | æ—  |
| `-email` | âŒ | é‚®ç®±åœ°å€ | username@example.com |
| `-admin` | âŒ | æ˜¯å¦ä¸ºç®¡ç†å‘˜ | falseï¼ˆæ™®é€šç”¨æˆ·ï¼‰ |
| `-db` | âŒ | æ•°æ®åº“æ–‡ä»¶è·¯å¾„ | ../chat.db |

### ä½¿ç”¨ç¤ºä¾‹

#### 1. æ·»åŠ æ™®é€šç”¨æˆ·
```bash
go run add_user.go -username=zhangsan -password=123456
```

#### 2. æ·»åŠ ç®¡ç†å‘˜
```bash
go run add_user.go -username=lisi -password=admin888 -admin
```

#### 3. æŒ‡å®šé‚®ç®±
```bash
go run add_user.go -username=wangwu -password=123456 -email=wangwu@qq.com
```

#### 4. å®Œæ•´ç¤ºä¾‹ï¼ˆç®¡ç†å‘˜ + è‡ªå®šä¹‰é‚®ç®±ï¼‰
```bash
go run add_user.go -username=boss -password=secret123 -email=boss@company.com -admin
```

### è¾“å‡ºç¤ºä¾‹

æˆåŠŸåˆ›å»ºç”¨æˆ·åï¼Œä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼š

```
ğŸ” æ­£åœ¨åŠ å¯†å¯†ç ...
ğŸ“‚ æ­£åœ¨è¿æ¥æ•°æ®åº“...
âœ¨ æ­£åœ¨åˆ›å»ºç”¨æˆ·...

âœ… ç”¨æˆ·åˆ›å»ºæˆåŠŸï¼
==========================================
ç”¨æˆ·ID:   5
ç”¨æˆ·å:   zhangsan
å¯†ç :     123456
é‚®ç®±:     zhangsan@example.com
æƒé™:     æ™®é€šç”¨æˆ·
==========================================
```

### é”™è¯¯å¤„ç†

è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†ä»¥ä¸‹é”™è¯¯æƒ…å†µï¼š

- âŒ ç”¨æˆ·åæˆ–å¯†ç ä¸ºç©º
- âŒ ç”¨æˆ·åå·²å­˜åœ¨
- âŒ æ•°æ®åº“è¿æ¥å¤±è´¥
- âŒ å¯†ç åŠ å¯†å¤±è´¥

### æ³¨æ„äº‹é¡¹

1. **å®‰å…¨æ€§**ï¼šå¯†ç ä¼šä½¿ç”¨ bcrypt è‡ªåŠ¨åŠ å¯†ï¼Œæ— éœ€æ‰‹åŠ¨åŠ å¯†
2. **å”¯ä¸€æ€§**ï¼šç”¨æˆ·åå¿…é¡»å”¯ä¸€ï¼Œé‡å¤çš„ç”¨æˆ·åä¼šåˆ›å»ºå¤±è´¥
3. **æ•°æ®åº“è·¯å¾„**ï¼šé»˜è®¤ä½¿ç”¨ `../chat.db`ï¼Œå¦‚éœ€æŒ‡å®šå…¶ä»–è·¯å¾„è¯·ä½¿ç”¨ `-db` å‚æ•°
4. **æƒé™å»ºè®®**ï¼šè°¨æ…åˆ›å»ºç®¡ç†å‘˜è´¦å·ï¼Œå»ºè®®åªç»™å—ä¿¡ä»»çš„ç”¨æˆ·ç®¡ç†å‘˜æƒé™

### å¿«é€Ÿå‚è€ƒ

```bash
# æŸ¥çœ‹å¸®åŠ©
go run add_user.go

# æ·»åŠ æ™®é€šç”¨æˆ·ï¼ˆæœ€å¸¸ç”¨ï¼‰
go run add_user.go -username=æ–°ç”¨æˆ·å -password=å¯†ç 

# æ·»åŠ ç®¡ç†å‘˜ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
go run add_user.go -username=ç®¡ç†å‘˜å -password=å¯†ç  -admin
```

### åç»­æ“ä½œ

åˆ›å»ºç”¨æˆ·åï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ç™»å½•ï¼š
- å‰ç«¯ç™»å½•é¡µé¢ï¼šhttp://localhost:5173
- API ç™»å½•æ¥å£ï¼š`POST /api/v1/auth/login`

---

**ç»´æŠ¤è€…**: AIGE Team
**æœ€åæ›´æ–°**: 2025-10-28
