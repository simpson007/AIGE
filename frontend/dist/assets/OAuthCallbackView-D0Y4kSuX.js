/* empty css                */import{d,u as _,q as p,s as m,p as t,e as h,c as f,b as c,w as l,E as b,n as u,v as g,x as k,y as x,o as C}from"./index-mlxIPnk9.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const y={class:"callback-container"},A={class:"loading-content"},E=d({__name:"OAuthCallbackView",setup(v){const s=h(),n=m(),r=_();return p(async()=>{const o=n.query.code,e=n.query.state;if(!o||!e){t.error("无效的回调参数"),s.push("/login");return}try{await r.handleLinuxDoCallback(o,e),t.success("登录成功"),r.isAdmin()?s.push("/admin"):s.push("/game")}catch(a){console.error("OAuth 回调处理失败:",a),t.error("登录失败，请重试"),s.push("/login")}}),(o,e)=>{const a=g,i=b;return C(),f("div",y,[c(i,{class:"callback-card"},{default:l(()=>[u("div",A,[c(a,{class:"is-loading",size:50},{default:l(()=>[c(k(x))]),_:1}),e[0]||(e[0]=u("p",null,"正在处理 Linux.Do 登录...",-1))])]),_:1})])}}}),O=w(E,[["__scopeId","data-v-c366b95c"]]);export{O as default};
