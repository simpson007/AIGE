import{_ as d}from"./_plugin-vue_export-helper-BJA4NJ9J.js";/* empty css                */import{d as _,u as p,q as m,s as h,p as t,e as f,c as b,b as c,w as l,E as g,n as u,v as k,x,y as C,o as w}from"./index-CD0r9giO.js";const y={class:"callback-container"},A={class:"loading-content"},E=_({__name:"OAuthCallbackView",setup(v){const s=f(),n=h(),r=p();return m(async()=>{const o=n.query.code,e=n.query.state;if(!o||!e){t.error("无效的回调参数"),s.push("/login");return}try{await r.handleLinuxDoCallback(o,e),t.success("登录成功"),r.isAdmin()?s.push("/admin"):s.push("/game")}catch(a){console.error("OAuth 回调处理失败:",a),t.error("登录失败，请重试"),s.push("/login")}}),(o,e)=>{const a=k,i=g;return w(),b("div",y,[c(i,{class:"callback-card"},{default:l(()=>[u("div",A,[c(a,{class:"is-loading",size:50},{default:l(()=>[c(x(C))]),_:1}),e[0]||(e[0]=u("p",null,"正在处理 Linux.Do 登录...",-1))])]),_:1})])}}}),O=d(E,[["__scopeId","data-v-c366b95c"]]);export{O as default};
